<!DOCTYPE html>
<html>
<head>
    <link href="https://fonts.googleapis.com/css?family=Artifika" rel="stylesheet">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <style type="text/css">
        * {
            font-family: 'Artifika', serif;
            box-sizing: border-box
        }
        body {
            background-color: peachpuff;
        }
        header{
            background-color: MidnightBlue;
            border: solid blue;
            padding: 10px;
            color: darkorange;
            text-align: center;
            font-size: 35px;
        }
        footer{
            background-color: MidnightBlue;
            border: solid blue;
            padding: 10px;
            margin-top: 30px;
            color: darkorange;
            text-align: center;
            font-size: 35px;
        }
        button {
            border-radius: 10%;
            background-color: darkorange;
            color: MidnightBlue;
            border: none;
            padding: 20px;
            font-size: 20px;
            display: inline-block;
        }
        td {
            color: #BF5C5C;
        }
        p {
            text-align: center;
            font-family: 'Lobster', cursive;
        }
        input {
            background-color: #F3F4D6;
            color: MidnightBlue;
            font-family: 'Lobster', cursive;
            font-size: 23px;
            border-radius: 20%;
            width: 30%;
        }
        input[type="submit"] {
            width: 93%;
        }
        a {
            color: darkorange;
            font-size: 20px;
            text-align: right;
        }
        a:hover {
            color: peachpuff;
        }
        .slideshow-container {
            width: 60%;
            height: 30%;
            position: relative;
            margin: auto;
            display: block;
        }
        .slideshowimg {
            width: 100%;
            height: 400px;
            position: relative;
        }
        .side-nav {
            position: fixed;
            margin-left: 30px;
        }
        .slide-text {
            color: darkorange;
            font-size: 15px;
            padding: 8px 12px;
            position: absolute;
            bottom: 15px;
            width: 100%;
            text-align: center;
        }
        #page-wrap{
            margin: 25px auto;
            position: relative;
        }
        ul {
            list-style-type: none;
            margin: 0;
            padding: 0;
            width: 200px;
            background-color: #f1f1f1;
            border: 1px solid #555;
        }
        li a {
            display: block;
            color: #000;
            padding: 8px 16px;
            text-decoration: none;
            color: MidnightBlue;
        }
        li {
            text-align: center;
            border-bottom: 1px solid #555;
            background: #FEF5EE;
        }
        li:last-child {
            border-bottom: none;
        }
        li a.active {
            background-color: #4CAF50;
            color: white;
        }
        li a:hover:not(.active) {
            background-color: #F3F4D6;
            color: MidnightBlue;
        }
        .menuSectionTitle{
            padding-top: 35px;
        }
        .menuItemTitle{
            color: MidnightBlue;
            font-size: 20px;
        }
        .menuItemImage {
            height: 150px;
            width: 150px;
            display: block;
        }
        .menuTable {
            width: 930px;
            margin: auto;
            border: 1px solid silver;
            border-collapse: collapse;
            background: #FEF5EE;
            font-family: 'Lobster', cursive;
        }
        .menuTableRow {
            border: 1px solid silver;
        }
    </style>
</head>
<body onload='updateMenu(); showSlides();'>
<dl>
    <header>
        <dt>Maars Menu</dt>
        <a href="table.html"> <dd>Go to Seating</dd> </a>
    </header>
</dl>

<div class="side-nav">
    <ul id="nav_menu">
        <!-- WARNING: dynamically populated when page is loaded-->
    </ul>
</div>
<div id='slideshow' class="slideshow-container">
    <!-- WARNING: dynamically populated when page is loaded-->
</div>
<br>
<div id='slideshow_dots' style="text-align:center">
    <!-- WARNING: dynamically populated when page is loaded-->
</div>
<div id="menu_list">
    <!-- WARNING: dynamically populated when page is loaded-->
</div>

<footer>
    <button onclick="checkout()" type="submit">Checkout</button>
</footer>
<script language="javascript">
    ///////////////////////////////////
    // Slideshow
    var slideIndex = 0;

    function showSlides() {
        var i;
        var slides = document.getElementsByClassName("mySlides");
        var dots = document.getElementsByClassName("dot");
        for (i = 0; i < slides.length; i++) {
           slides[i].style.display = "none";
        }
        slideIndex++;
        if (slideIndex> slides.length) {slideIndex = 1}
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", "");
        }
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
        setTimeout(showSlides, 3000); // Change image every 3 seconds
    }

    //////////////////////////////////////
    // Menu Items
    var menuSections = [
        {   name: "Appetizers",
            list: [
                {
                    name: "Candy Yams",
                    desc: "Sweet potatoes with a dash of our finest cinnamon.",
                    icon: "http://divascancook.com/wp-content/uploads/2011/11/IMG_22021.jpg",
                    price: 10
                },
                {
                    name: "BBQ Chicken",
                    desc: "Perfect wings smothered in sauce.",
                    icon: "http://tailgategrilling.com/wp-content/uploads/2013/03/Grilled-Chicken-with-Root-Beer-Barbecue-Sauce.jpg",
                    price: 10
                },
                {
                    name: "Gimbap/Kimbap",
                    desc: "Rice, meat, and vegetables are wrapped in a long seaweed roll.",
                    icon: "https://i.ytimg.com/vi/Y-Y9CXGRJPU/maxresdefault.jpg",
                    price: 10
                },
                {
                    name: "Ogok-bap",
                    desc: "Rice mixed with multiple grains like black beans and foxtail millets.",
                    icon: "http://english.chosun.com/site/data/img_dir/2017/02/08/2017020801389_0.jpg",
                    price: 10
                }
            ]
        },

        {   name: "Main Course",
            list: [
                {
                    name : "The Martin Luther King",
                    desc : "Two glazed donuts, surrounding a bacon cheese burger with chopped fried onions.",
                    icon : "http://i.pinimg.com/736x/cf/dc/03/cfdc035c6e280ea69e2fc5e9389e4a61.jpg",
                    price: 10,
                    slide: true
                },
                {
                    name : "Fish & Chips",
                    desc : "Fresh Fish, fried Chips, ketchup or tartar to dip.",
                    icon : "http://static.guim.co.uk/sys-images/Guardian/Pix/pictures/2014/8/1/1406931617815/Fish-and-chips-014.jpg",
                    price: 10
                },
                {
                    name : "Half-half Pizza",
                    desc : "Mushroom, broccoli, chicken chunks, and tomato mixed with cheese 10 inch pie.",
                    icon : "https://s-media-cache-ak0.pinimg.com/originals/d6/9a/32/d69a32c8fca1e012b329e3570ee8d3c2.jpg",
                    price: 9
                },
                {
                    name : "Classic Pasta",
                    desc : "Pasta mixed with tomatoes and shredded onion at the top.",
                    icon : "http://www.dosomethingnew.com/content/images/JamiesItalian_Food6.jpg",
                    price: 7,
                    slide: true
                },
                {
                    name : "Bibimbap",
                    desc : "An elegantly laid out dish with rice and an egg yolk in its center surrounded by multiple vegetables and meat.",
                    icon : "http://cdn2.koreanbapsang.com/wp-content/uploads/2010/02/Bibimbap.jpg",
                    price: 10
                },
                {
                    name : "Mixed Sea Food",
                    desc : "Different varieties od sea weed boiled with added spices.",
                    icon : "http://whatisthaifood.com/wp-content/uploads/2012/12/thai_food.jpg",
                    price: 15,
                    slide: true
                },
                {
                    name : "Samggye-tang",
                    desc : "A young chicken is stuffed with sticky rice, ginseng, gingko nuts and dried jujube.",
                    icon : "https://www.maangchi.com/wp-content/uploads/2007/10/samgyetang11.jpg",
                    price: 10
                }
            ]
        },

        {   name: "Desserts",
            list: [
                {
                    name : "Egg Roll Plate",
                    desc : "It comes with the fried egg rolled inside a bread mixed with sauces and decorated with some strawberries.",
                    icon : "https://i.pinimg.com/736x/02/e6/42/02e6421751a5747ead364dc3c9faf19d--dutch-food-healthy-weight.jpg",
                    price: 10,
                    slide: true
                },
                {
                    name : "Coconut Ice Cream",
                    desc : "Signature ice cream flavor of Trinidad and Tobago.",
                    icon : "http://farm4.static.flickr.com/3335/4596202064_49a2bf75a5_o.jpg",
                    price: 2
                },
                {
                    name : "Chocolate Lava Cake",
                    desc : "Chocolate goodness that melts in your mouth, with delicious homemade vanilla ice cream on the side.",
                    icon : "http://s.eatthis-cdn.com/media/images/ext/711645580/salty-restaurant-desserts-tripchocmeltdown.jpg",
                    price: 2
                },
                {
                    name : "Nutella Crepes",
                    desc : "Warm creamy Nutella. Fresh Fruit. Need we say more?",
                    icon : "http://media.indiatimes.in/media/content/2015/Jul/des2_1436344824.jpg",
                    price: 2
                },
                {
                    name : "Chocolate Covered Strawberries",
                    desc : "A dessert classic - you can't go wrong with this time-tested favorite.",
                    icon : "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTK_VVrVRfjGjpiW1KE01RMqaN0HNFTSEdj9dv4LB5Yu6rd5DWu",
                    price: 2
                }
            ]
        },

        {   name: "Drinks",
            list: [
                {
                    name : "Mango Lassi",
                    desc : "A delicious martian drink made from mangos and yogurt.",
                    icon : "https://images.kitchenstories.de/recipeImages/RP03_23_09_MangoLassi_TitlePicture/RP03_23_09_MangoLassi_TitlePicture-medium-landscape-200.jpg",
                    price: 2
                },
                {
                    name : "Taro Milk Boba Tea",
                    desc : "An out of this world tea with boba comets.",
                    icon : "https://s-media-cache-ak0.pinimg.com/736x/fd/34/cb/fd34cb1f271b40098924a936eeaf0bf3--asian-tea-tea-flavors.jpg",
                    price: 2
                },
                {
                    name : "Traditional Yerba Mate Tea",
                    desc : "A popular south american energy booster.",
                    icon : "https://bebrainfit.com/wp-content/uploads/2017/01/yerba-mate-tea-720x480.jpg",
                    price: 2,
                    slide: true
                },
                {
                    name : "Raseberry Compote",
                    desc : "A refeshing slavic drink made with fresh naturally sweet raspberries.",
                    icon : "http://i.telegraph.co.uk/multimedia/archive/01434/prose6_1434575c.jpg",
                    price: 2
                }
            ]
        }
    ];
    //////////////////////////////////////


    function extractTableData(element) {
        let data;

        let qty = parseInt(element.querySelector("#qty").value);
        if (qty > 0) {
            let i = parseInt(element.dataset.sectionIndex);
            let j = parseInt(element.dataset.itemIndex);
            let item = menuSections[i].list[j];

            data = {
                name : item.name,
                icon : item.icon,
                price: item.price,
                qty  : qty
            };
        }
        return data;
    }

    function checkout() {
        let menuItems = document.querySelectorAll('.menuTableRow');
        let dataItems = [];
        for (let i = 0; i < menuItems.length; i++) {
            let data = extractTableData(menuItems[i]);
            if (data != null) {
                dataItems.push(data);
            }
        }
        sessionStorage.cart = JSON.stringify(dataItems);
        window.open('checkout.html');
    }

    function updateMenu() {
        let root = document.getElementById('menu_list');
        let navMenu = document.getElementById('nav_menu');
        let slideShow = document.getElementById('slideshow');
        let slideShowDots = document.getElementById('slideshow_dots');
        let slide=0;

        let td;

        // Iterate sections
        for (let i = 0; i < menuSections.length; ++i) {
            let section = menuSections[i];

            // <li><a href="#Appetizers">Appetizers</a></li>
            let navItem = document.createElement('li');
            let navLink = navItem.appendChild(document.createElement('a'));
            navLink.href = '#' + section.name;
            navLink.innerHTML = section.name;
            navMenu.appendChild(navItem);

            // <h1 align="center" id="Appetizers" class='menuSectionTitle'>- Appetizers-</h1>
            let header = document.createElement('h1');
            header.id = section.name;
            header.className = 'menuSectionTitle';
            header.align = 'center';
            header.innerHTML = '- ' + section.name + ' -';

            let table = document.createElement('table');
            table.className = 'menuTable';

            // Iterate items of the current section
            let items = section.list;
            for (let j = 0; j < items.length; ++j) {
                /*
                <table data-price="10">
                    <td><img src="http://divascancook.com/wp-content/uploads/2011/11/IMG_22021.jpg"></td>
                    <td width="60%"><p class="menuItemTitle">Candy Yams.........................................$10</p>
                        Sweet potatoes with a dash of our finest cinnamon.</td>
                    <td width="17%">Qty:<br/><input id="qty" type="number" min="0"/></td>
                </table>
                */
                let item = items[j];


                let row = document.createElement('tr');
                row.className = 'menuTableRow';
                row.dataset.sectionIndex = i;
                row.dataset.itemIndex = j;
                row.dataset.price = item.price;


                // image
                let imgIcon = document.createElement('img');
                imgIcon.className = 'menuItemImage';
                imgIcon.src = item.icon;

                td = document.createElement('td');
                td.appendChild(imgIcon);
                row.appendChild(td);

                // name
                let pName = document.createElement('p');
                pName.className = 'menuItemTitle';
                pName.innerHTML = item.name + '.........................' + '$' + item.price;

                let tDesc = document.createTextNode('\n' + item.desc);

                td = document.createElement('td');
                td.width = "60%";
                td.appendChild(pName);
                td.appendChild(tDesc);
                row.appendChild(td);

                // quantity
                let inputQty = document.createElement('input');
                inputQty.id = 'qty';
                inputQty.type = 'number';
                inputQty.min = '0';

                td = document.createElement('td');
                td.width = "17%";
                td.appendChild(document.createTextNode('Qty:'));
                td.appendChild(document.createElement('br'));
                td.appendChild(inputQty);
                row.appendChild(td);

                // row end
                table.appendChild(row);

                if (item.slide)
                {
                    /*
                    <div class="mySlides fade">
                        <img src="http://i.pinimg.com/736x/cf/dc/03/cfdc035c6e280ea69e2fc5e9389e4a61.jpg" class="slideshowimg">
                        <div class="text">The MARTIN LUTHER KING</div>
                    </div>
                    */

                    let divSlide = slideShow.appendChild(document.createElement('div'));
                    divSlide.className = 'mySlides fade';
                    let imgSlide = divSlide.appendChild(document.createElement('img'));
                    imgSlide.className = 'slideshowimg';
                    imgSlide.src = item.icon;
                    let txtSlide = divSlide.appendChild(document.createElement('div'));
                    txtSlide.className = 'slide-text';
                    txtSlide.innerHTML = item.name;

                    // <span class="dot" onclick="currentSlide(1)"></span>
                    let spanSlideDot = slideShowDots.appendChild(document.createElement('span'));
                    spanSlideDot.className='dot';
                    spanSlideDot.onclick = 'currentSlide(' + ++slideIndex + ')';
                }
            }

            root.appendChild(header);
            root.appendChild(table);
        }
    }
</script>
</body>
</html>
